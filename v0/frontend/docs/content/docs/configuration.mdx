---
title: Configuration
description: Complete guide to configuring Forge Go for your application needs
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
import { Card, Cards } from 'fumadocs-ui/components/card'

# Configuration

Forge Go provides extensive configuration options to customize application behavior, middleware settings, and integration with your application. This guide covers all available configuration options and best practices.

## Configuration Structure

Forge uses a hierarchical configuration system powered by the Forge Config Manager, supporting environment variables, YAML files, and programmatic configuration.

<Tabs items={['Programmatic', 'Environment Variables', 'YAML File']}>
  <Tab value="Programmatic">
    Configure Forge directly in your Go code:

    ```go
    package main

    import (
        "log"
        "github.com/xraph/forge"
    )

    func main() {
        // Create Forge application with configuration
        app := forge.New(forge.Config{
            Name:    "My App",
            Version: "1.0.0",
            Host:    "localhost",
            Port:    8080,
        })

        // Add middleware
        app.Use(forge.Logger())
        app.Use(forge.Recovery())
        app.Use(forge.CORS())

        // Add routes
        app.GET("/", func(c *forge.Context) error {
            return c.JSON(200, map[string]string{
                "message": "Hello from Forge!",
            })
        })

        // Start server
        log.Fatal(app.Listen(":8080"))
    }
    ```
  </Tab>
  <Tab value="Environment Variables">
    Configure using environment variables:

    ```bash
    # Server Configuration
    FORGE_HOST=localhost
    FORGE_PORT=8080
    FORGE_NAME=My App
    FORGE_VERSION=1.0.0

    # Logging Configuration
    FORGE_LOG_LEVEL=info
    FORGE_LOG_FORMAT=json

    # Database Configuration (Optional)
    FORGE_DATABASE_URL=postgres://user:pass@localhost/db
    FORGE_DATABASE_MAX_OPEN_CONNS=25
    FORGE_DATABASE_MAX_IDLE_CONNS=5

    # Redis Configuration (Optional)
    FORGE_REDIS_URL=redis://localhost:6379
    FORGE_REDIS_PASSWORD=your-redis-password
    FORGE_REDIS_DB=0

    # CORS Configuration
    FORGE_CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
    FORGE_CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
    FORGE_CORS_ALLOWED_HEADERS=Content-Type,Authorization

    # Rate Limiting Configuration
    FORGE_RATE_LIMIT_ENABLED=true
    FORGE_RATE_LIMIT_MAX=100
    FORGE_RATE_LIMIT_WINDOW=1m

    # Security Configuration
    FORGE_SECURITY_ENABLED=true
    FORGE_SECURITY_HTTPS_REDIRECT=false
    ```
  </Tab>
  <Tab value="YAML File">
    Create a `config.yaml` file:

    ```yaml
    forge:
      name: My App
      version: 1.0.0
      host: localhost
      port: 8080
      
      logging:
        level: info
        format: json
      
      database:
        url: postgres://user:pass@localhost/db
        maxOpenConns: 25
        maxIdleConns: 5
        connMaxLifetime: 1h
      
      redis:
        url: redis://localhost:6379
        password: your-redis-password
        db: 0
      
      cors:
        allowedOrigins:
          - https://yourdomain.com
          - https://app.yourdomain.com
        allowedMethods:
          - GET
          - POST
          - PUT
          - DELETE
          - OPTIONS
        allowedHeaders:
          - Content-Type
          - Authorization
      
      rateLimit:
        enabled: true
        max: 100
        window: 1m
      
      security:
        enabled: true
        httpsRedirect: false
    ```

    Load the configuration:

    ```go
    package main

    import (
        "log"
        "github.com/xraph/forge"
    )

    func main() {
        // Create Forge application with config file
        app := forge.New(forge.Config{
            ConfigFile: "config.yaml",
        })
        
        // Add middleware
        app.Use(forge.Logger())
        app.Use(forge.Recovery())
        app.Use(forge.CORS())

        // Add routes
        app.GET("/", func(c *forge.Context) error {
            return c.JSON(200, map[string]string{
                "message": "Hello from Forge!",
            })
        })

        // Start server
        log.Fatal(app.Listen(":8080"))
    }
    ```
  </Tab>
</Tabs>

## Core Configuration Options

### Application Configuration

<Callout type="info">
The application configuration defines basic settings for your Forge application.
</Callout>

```go
type Config struct {
    Name        string `json:"name"`        // Application name
    Version     string `json:"version"`     // Application version
    Host        string `json:"host"`        // Server host
    Port        int    `json:"port"`        // Server port
    ConfigFile  string `json:"configFile"`  // Path to config file
}
```

**Configuration Fields:**
- **Name**: Display name for your application
- **Version**: Application version (used in headers and logs)
- **Host**: Server host address (default: "localhost")
- **Port**: Server port (default: 8080)
- **ConfigFile**: Path to YAML configuration file (optional)

### Database Configuration

```go
type DatabaseConfig struct {
    URL             string        `json:"url"`             // Connection string
    MaxOpenConns    int           `json:"maxOpenConns"`    // Maximum open connections
    MaxIdleConns    int           `json:"maxIdleConns"`    // Maximum idle connections
    ConnMaxLifetime time.Duration `json:"connMaxLifetime"` // Connection lifetime
}
```

<Callout type="info">
Database configuration is optional. If not provided, Forge will work without database integration.
</Callout>

<Tabs items={['PostgreSQL', 'MySQL', 'SQLite']}>
  <Tab value="PostgreSQL">
    ```go
    Database: forge.DatabaseConfig{
        URL:             "postgres://user:pass@localhost:5432/forge?sslmode=disable",
        MaxOpenConns:    25,
        MaxIdleConns:    5,
        ConnMaxLifetime: time.Hour,
    }
    ```

    **Connection String Format:**
    ```
    postgres://username:password@host:port/database?sslmode=disable&timezone=UTC
    ```
  </Tab>
  <Tab value="MySQL">
    ```go
    Database: forge.DatabaseConfig{
        URL:             "user:pass@tcp(localhost:3306)/forge?parseTime=true&charset=utf8mb4",
        MaxOpenConns:    25,
        MaxIdleConns:    5,
        ConnMaxLifetime: time.Hour,
    }
    ```

    **Connection String Format:**
    ```
    username:password@tcp(host:port)/database?parseTime=true&charset=utf8mb4
    ```
  </Tab>
  <Tab value="SQLite">
    ```go
    Database: forge.DatabaseConfig{
        URL:             "./data/forge.db",
        MaxOpenConns:    1,  // SQLite doesn't support multiple writers
        MaxIdleConns:    1,
        ConnMaxLifetime: 0,  // No limit for SQLite
    }
    ```

    **File Path Format:**
    ```
    ./data/forge.db
    /absolute/path/to/database.db
    :memory: (for in-memory database)
    ```
  </Tab>
</Tabs>

### Middleware Configuration

Forge provides several built-in middleware that can be configured:

```go
// Logger middleware configuration
type LoggerConfig struct {
    Level  string `json:"level"`  // debug, info, warn, error
    Format string `json:"format"` // json, text
}

// CORS middleware configuration
type CORSConfig struct {
    AllowedOrigins []string `json:"allowedOrigins"`
    AllowedMethods []string `json:"allowedMethods"`
    AllowedHeaders []string `json:"allowedHeaders"`
}

// Rate limiting middleware configuration
type RateLimitConfig struct {
    Enabled bool   `json:"enabled"`
    Max     int    `json:"max"`
    Window  string `json:"window"`
}
```

<Callout type="info">
**Middleware Usage:**
- Middleware is added using `app.Use(middleware)`
- Order matters - middleware is executed in the order it's added
- Built-in middleware includes Logger, Recovery, CORS, and RateLimit
</Callout>

### Redis Configuration

```go
type RedisConfig struct {
    URL      string `json:"url"`      // Redis connection URL
    Password string `json:"password"` // Redis password
    DB       int    `json:"db"`       // Redis database number
}
```

## Configuration Examples

### Basic Application

```go
package main

import (
    "log"
    "github.com/xraph/forge"
)

func main() {
    app := forge.New(forge.Config{
        Name:    "My App",
        Version: "1.0.0",
        Host:    "localhost",
        Port:    8080,
    })

    app.Use(forge.Logger())
    app.Use(forge.Recovery())

    app.GET("/", func(c *forge.Context) error {
        return c.JSON(200, map[string]string{
            "message": "Hello from Forge!",
        })
    })

    log.Fatal(app.Listen(":8080"))
}
```

### With Database and Redis

```go
package main

import (
    "log"
    "github.com/xraph/forge"
)

func main() {
    app := forge.New(forge.Config{
        Name:    "My App",
        Version: "1.0.0",
        Host:    "localhost",
        Port:    8080,
    })

    // Add middleware
    app.Use(forge.Logger())
    app.Use(forge.Recovery())
    app.Use(forge.CORS())
    app.Use(forge.RateLimit())

    // Add routes
    app.GET("/", func(c *forge.Context) error {
        return c.JSON(200, map[string]string{
            "message": "Hello from Forge!",
        })
    })

    log.Fatal(app.Listen(":8080"))
}
```

## Best Practices

<Cards>
  <Card
    title="Environment Variables"
    description="Use environment variables for sensitive configuration like database URLs and secrets"
  />
  <Card
    title="Configuration Files"
    description="Use YAML files for complex configuration that doesn't change often"
  />
  <Card
    title="Validation"
    description="Always validate configuration values at startup"
  />
  <Card
    title="Defaults"
    description="Provide sensible defaults for optional configuration"
  />
</Cards>

<Callout type="tip">
**Pro Tip**: Start with minimal configuration and add complexity as needed. Forge works great out of the box with sensible defaults.
</Callout>